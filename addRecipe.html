<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add a New Recipe - Dessert Delights</title>
  <link rel="stylesheet" href="dd.styles.css">
  <link rel="icon" type="image/png" href="images/cakeIcon.png">
</head>
<body>
  <header>
    <h1>Dessert Delights</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="recipeCards.html">Recipes</a></li>
        <li><a href="moodboard.html">Moodboard</a></li>
        <li><a href="quizzeshomepage.html">Quizzes</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <section class="add-recipe-section">
    <h2>Share Your Dessert Recipe</h2>
    <p>Fill out the form below to share your favorite dessert recipe with the Dessert Delights community!</p>
    
    <form id="add-recipe-form" action="/api/desserts" method="post" enctype="multipart/form-data">
      <label for="name">Recipe Title:</label>
      <input type="text" id="name" name="name" required>

      <label for="description">Short Description:</label>
      <textarea id="description" name="description" rows="2" placeholder="A brief description of your dessert..."></textarea>

      <label for="image">Recipe Image:</label>
      <input type="file" id="image" name="image" accept="image/*">
      <p class="image-note">Upload an image of your finished dessert (JPG, PNG, or GIF)</p>

      <label for="ingredients">Ingredients:</label>
      <textarea id="ingredients" name="ingredients" rows="6" placeholder="Enter each ingredient on a new line:
1 cup flour
1/2 cup sugar
2 eggs
..."></textarea>

      <label for="instructions">Instructions:</label>
      <textarea id="instructions" name="instructions" rows="8" placeholder="Enter each step on a new line:
Preheat the oven to 350Â°F.
Mix the dry ingredients in a bowl.
Add the wet ingredients and stir until combined.
..."></textarea>

      <button type="submit" class="submit-button">Share Recipe</button>
    </form>
    
    <div id="upload-status" class="upload-status" style="display: none;">
      <div class="spinner"></div>
      <p>Uploading your recipe...</p>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('add-recipe-form');
      const uploadStatus = document.getElementById('upload-status');
      
      form.addEventListener('submit', function(event) {
        // Show the upload status indicator
        uploadStatus.style.display = 'flex';
        
        // Form will be handled by server.js via the action="/api/recipes" attribute
        // No need to preventDefault() as we want the form to submit naturally
      });
    });
  </script>
</body>
</html>